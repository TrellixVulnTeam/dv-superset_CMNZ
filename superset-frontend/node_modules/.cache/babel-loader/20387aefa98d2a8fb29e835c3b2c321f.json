{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _sortInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/sort\";import _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";import _JSON$stringify from \"@babel/runtime-corejs3/core-js-stable/json/stringify\";import _Object$entries from \"@babel/runtime-corejs3/core-js-stable/object/entries\";import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";import _debounce from \"lodash/debounce\";var _jsxFileName = \"/Users/frankhe/projects/superset/superset-frontend/src/SqlLab/components/TableElement.tsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";}var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport Collapse from 'src/components/Collapse';\nimport Card from 'src/components/Card';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { t, styled } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/components/Tooltip';\nimport CopyToClipboard from '../../components/CopyToClipboard';\nimport { IconTooltip } from '../../components/IconTooltip';\nimport ColumnElement from './ColumnElement';\nimport ShowSQL from './ShowSQL';\nimport ModalTrigger from '../../components/ModalTrigger';\nimport Loading from '../../components/Loading';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledSpan = styled.span`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  &: hover {\n    color: ${({ theme }) => theme.colors.primary.dark2};\n  }\n  cursor: pointer;\n`;\nconst Fade = styled.div`\n  transition: all ${({ theme }) => theme.transitionTiming}s;\n  opacity: ${(props) => props.hovered ? 1 : 0};\n`;var _ref = process.env.NODE_ENV === \"production\" ? { name: \"1hs1mx1\", styles: \"padding-top:6px\" } : { name: \"14hmmm7-metadata\", styles: \"padding-top:6px;label:metadata;\", map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mcmFua2hlL3Byb2plY3RzL3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9TcWxMYWIvY29tcG9uZW50cy9UYWJsZUVsZW1lbnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdJd0ciLCJmaWxlIjoiL1VzZXJzL2ZyYW5raGUvcHJvamVjdHMvc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1RhYmxlRWxlbWVudC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29sbGFwc2UgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ29sbGFwc2UnO1xuaW1wb3J0IENhcmQgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ2FyZCc7XG5pbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uR3JvdXAnO1xuaW1wb3J0IHsgdCwgc3R5bGVkIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ3NyYy9jb21wb25lbnRzL1Rvb2x0aXAnO1xuaW1wb3J0IENvcHlUb0NsaXBib2FyZCBmcm9tICcuLi8uLi9jb21wb25lbnRzL0NvcHlUb0NsaXBib2FyZCc7XG5pbXBvcnQgeyBJY29uVG9vbHRpcCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvSWNvblRvb2x0aXAnO1xuaW1wb3J0IENvbHVtbkVsZW1lbnQgZnJvbSAnLi9Db2x1bW5FbGVtZW50JztcbmltcG9ydCBTaG93U1FMIGZyb20gJy4vU2hvd1NRTCc7XG5pbXBvcnQgTW9kYWxUcmlnZ2VyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTW9kYWxUcmlnZ2VyJztcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTG9hZGluZyc7XG5jb25zdCBTdHlsZWRTcGFuID0gc3R5bGVkLnNwYW4gYFxuICBjb2xvcjogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMucHJpbWFyeS5kYXJrMX07XG4gICY6IGhvdmVyIHtcbiAgICBjb2xvcjogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMucHJpbWFyeS5kYXJrMn07XG4gIH1cbiAgY3Vyc29yOiBwb2ludGVyO1xuYDtcbmNvbnN0IEZhZGUgPSBzdHlsZWQuZGl2IGBcbiAgdHJhbnNpdGlvbjogYWxsICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHJhbnNpdGlvblRpbWluZ31zO1xuICBvcGFjaXR5OiAkeyhwcm9wcykgPT4gKHByb3BzLmhvdmVyZWQgPyAxIDogMCl9O1xuYDtcbmNvbnN0IFRhYmxlRWxlbWVudCA9ICh7IHRhYmxlLCBhY3Rpb25zLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgW3NvcnRDb2x1bW5zLCBzZXRTb3J0Q29sdW1uc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2hvdmVyZWQsIHNldEhvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHNldEhvdmVyID0gKGhvdmVyZWQpID0+IHtcbiAgICAgICAgZGVib3VuY2UoKCkgPT4gc2V0SG92ZXJlZChob3ZlcmVkKSwgMTAwKSgpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFibGUgPSAoKSA9PiB7XG4gICAgICAgIGFjdGlvbnMucmVtb3ZlRGF0YVByZXZpZXcodGFibGUpO1xuICAgICAgICBhY3Rpb25zLnJlbW92ZVRhYmxlKHRhYmxlKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVNvcnRDb2x1bW5zID0gKCkgPT4ge1xuICAgICAgICBzZXRTb3J0Q29sdW1ucyhwcmV2U3RhdGUgPT4gIXByZXZTdGF0ZSk7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJXZWxsID0gKCkgPT4ge1xuICAgICAgICBsZXQgcGFydGl0aW9ucztcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xuICAgICAgICBpZiAodGFibGUucGFydGl0aW9ucykge1xuICAgICAgICAgICAgbGV0IHBhcnRpdGlvblF1ZXJ5O1xuICAgICAgICAgICAgbGV0IHBhcnRpdGlvbkNsaXBCb2FyZDtcbiAgICAgICAgICAgIGlmICh0YWJsZS5wYXJ0aXRpb25zLnBhcnRpdGlvblF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgKHsgcGFydGl0aW9uUXVlcnkgfSA9IHRhYmxlLnBhcnRpdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHR0ID0gdCgnQ29weSBwYXJ0aXRpb24gcXVlcnkgdG8gY2xpcGJvYXJkJyk7XG4gICAgICAgICAgICAgICAgcGFydGl0aW9uQ2xpcEJvYXJkID0gKDxDb3B5VG9DbGlwYm9hcmQgdGV4dD17cGFydGl0aW9uUXVlcnl9IHNob3VsZFNob3dUZXh0PXtmYWxzZX0gdG9vbHRpcFRleHQ9e3R0fSBjb3B5Tm9kZT17PGkgY2xhc3NOYW1lPVwiZmEgZmEtY2xpcGJvYXJkXCIvPn0vPik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsYXRlc3QgPSBPYmplY3QuZW50cmllcyh0YWJsZS5wYXJ0aXRpb25zPy5sYXRlc3QgfHwgW10pXG4gICAgICAgICAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9PSR7dmFsdWV9YClcbiAgICAgICAgICAgICAgICAuam9pbignLycpO1xuICAgICAgICAgICAgcGFydGl0aW9ucyA9ICg8ZGl2PlxuICAgICAgICAgIDxzbWFsbD5cbiAgICAgICAgICAgIHt0KCdsYXRlc3QgcGFydGl0aW9uOicpfSB7bGF0ZXN0fVxuICAgICAgICAgIDwvc21hbGw+eycgJ31cbiAgICAgICAgICB7cGFydGl0aW9uQ2xpcEJvYXJkfVxuICAgICAgICA8L2Rpdj4pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWJsZS5tZXRhZGF0YSkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBPYmplY3QuZW50cmllcyh0YWJsZS5tZXRhZGF0YSkubWFwKChba2V5LCB2YWx1ZV0pID0+ICg8ZGl2PlxuICAgICAgICAgIDxzbWFsbD5cbiAgICAgICAgICAgIDxzdHJvbmc+e2tleX06PC9zdHJvbmc+IHt2YWx1ZX1cbiAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICA8L2Rpdj4pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcnRpdGlvbnMgJiYgIW1ldGFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDxDYXJkIHNpemU9XCJzbWFsbFwiPlxuICAgICAgICB7cGFydGl0aW9uc31cbiAgICAgICAge21ldGFkYXRhfVxuICAgICAgPC9DYXJkPik7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJDb250cm9scyA9ICgpID0+IHtcbiAgICAgICAgbGV0IGtleUxpbms7XG4gICAgICAgIGlmICh0YWJsZT8uaW5kZXhlcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBrZXlMaW5rID0gKDxNb2RhbFRyaWdnZXIgbW9kYWxUaXRsZT17PGRpdj5cbiAgICAgICAgICAgICAge3QoJ0tleXMgZm9yIHRhYmxlJyl9IDxzdHJvbmc+e3RhYmxlLm5hbWV9PC9zdHJvbmc+XG4gICAgICAgICAgICA8L2Rpdj59IG1vZGFsQm9keT17dGFibGUuaW5kZXhlcy5tYXAoKGl4LCBpKSA9PiAoPHByZSBrZXk9e2l9PntKU09OLnN0cmluZ2lmeShpeCwgbnVsbCwgJyAgJyl9PC9wcmU+KSl9IHRyaWdnZXJOb2RlPXs8SWNvblRvb2x0aXAgY2xhc3NOYW1lPVwiZmEgZmEta2V5IHB1bGwtbGVmdCBtLWwtMlwiIHRvb2x0aXA9e3QoJ1ZpZXcga2V5cyAmIGluZGV4ZXMgKCVzKScsIHRhYmxlLmluZGV4ZXMubGVuZ3RoKX0vPn0vPik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICg8QnV0dG9uR3JvdXAgY2xhc3NOYW1lPVwid3MtZWwtY29udHJvbHNcIj5cbiAgICAgICAge2tleUxpbmt9XG4gICAgICAgIDxJY29uVG9vbHRpcCBjbGFzc05hbWU9e2BmYSBmYS1zb3J0LSR7c29ydENvbHVtbnMgPyAnbnVtZXJpYycgOiAnYWxwaGEnfS1hc2MgYCArXG4gICAgICAgICAgICAgICAgJ3B1bGwtbGVmdCBzb3J0LWNvbHMgbS1sLTIgcG9pbnRlcid9IG9uQ2xpY2s9e3RvZ2dsZVNvcnRDb2x1bW5zfSB0b29sdGlwPXtzb3J0Q29sdW1uc1xuICAgICAgICAgICAgICAgID8gdCgnT3JpZ2luYWwgdGFibGUgY29sdW1uIG9yZGVyJylcbiAgICAgICAgICAgICAgICA6IHQoJ1NvcnQgY29sdW1ucyBhbHBoYWJldGljYWxseScpfS8+XG4gICAgICAgIHt0YWJsZS5zZWxlY3RTdGFyICYmICg8Q29weVRvQ2xpcGJvYXJkIGNvcHlOb2RlPXs8SWNvblRvb2x0aXAgYXJpYS1sYWJlbD1cIkNvcHlcIiB0b29sdGlwPXt0KCdDb3B5IFNFTEVDVCBzdGF0ZW1lbnQgdG8gdGhlIGNsaXBib2FyZCcpfT5cbiAgICAgICAgICAgICAgICA8aSBhcmlhLWhpZGRlbiBjbGFzc05hbWU9XCJmYSBmYS1jbGlwYm9hcmQgcHVsbC1sZWZ0IG0tbC0yXCIvPlxuICAgICAgICAgICAgICA8L0ljb25Ub29sdGlwPn0gdGV4dD17dGFibGUuc2VsZWN0U3Rhcn0gc2hvdWxkU2hvd1RleHQ9e2ZhbHNlfS8+KX1cbiAgICAgICAge3RhYmxlLnZpZXcgJiYgKDxTaG93U1FMIHNxbD17dGFibGUudmlld30gdG9vbHRpcFRleHQ9e3QoJ1Nob3cgQ1JFQVRFIFZJRVcgc3RhdGVtZW50Jyl9IHRpdGxlPXt0KCdDUkVBVEUgVklFVyBzdGF0ZW1lbnQnKX0vPil9XG4gICAgICAgIDxJY29uVG9vbHRpcCBjbGFzc05hbWU9XCJmYSBmYS10aW1lcyB0YWJsZS1yZW1vdmUgcHVsbC1sZWZ0IG0tbC0yIHBvaW50ZXJcIiBvbkNsaWNrPXtyZW1vdmVUYWJsZX0gdG9vbHRpcD17dCgnUmVtb3ZlIHRhYmxlIHByZXZpZXcnKX0vPlxuICAgICAgPC9CdXR0b25Hcm91cD4pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVySGVhZGVyID0gKCkgPT4gKDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXggaGVhZGVyLWNvbnRhaW5lclwiIG9uTW91c2VFbnRlcj17KCkgPT4gc2V0SG92ZXIodHJ1ZSl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXIoZmFsc2UpfT5cbiAgICAgIDxUb29sdGlwIGlkPVwiY29weS10by1jbGlwYm9hcmQtdG9vbHRpcFwiIHBsYWNlbWVudD1cInRvcExlZnRcIiBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSB0aXRsZT17dGFibGUubmFtZX0gdHJpZ2dlcj17Wydob3ZlciddfT5cbiAgICAgICAgPFN0eWxlZFNwYW4gZGF0YS10ZXN0PVwiY29sbGFwc2VcIiBjbGFzc05hbWU9XCJ0YWJsZS1uYW1lXCI+XG4gICAgICAgICAgPHN0cm9uZz57dGFibGUubmFtZX08L3N0cm9uZz5cbiAgICAgICAgPC9TdHlsZWRTcGFuPlxuICAgICAgPC9Ub29sdGlwPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgaGVhZGVyLXJpZ2h0LXNpZGVcIj5cbiAgICAgICAge3RhYmxlLmlzTWV0YWRhdGFMb2FkaW5nIHx8IHRhYmxlLmlzRXh0cmFNZXRhZGF0YUxvYWRpbmcgPyAoPExvYWRpbmcgcG9zaXRpb249XCJpbmxpbmVcIi8+KSA6ICg8RmFkZSBkYXRhLXRlc3Q9XCJmYWRlXCIgaG92ZXJlZD17aG92ZXJlZH0gb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cbiAgICAgICAgICAgIHtyZW5kZXJDb250cm9scygpfVxuICAgICAgICAgIDwvRmFkZT4pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+KTtcbiAgICBjb25zdCByZW5kZXJCb2R5ID0gKCkgPT4ge1xuICAgICAgICBsZXQgY29scztcbiAgICAgICAgaWYgKHRhYmxlLmNvbHVtbnMpIHtcbiAgICAgICAgICAgIGNvbHMgPSB0YWJsZS5jb2x1bW5zLnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAoc29ydENvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICBjb2xzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sQSA9IGEubmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xCID0gYi5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xBIDwgY29sQiA/IC0xIDogY29sQSA+IGNvbEIgPyAxIDogMDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9ICg8ZGl2IG9uTW91c2VFbnRlcj17KCkgPT4gc2V0SG92ZXIodHJ1ZSl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXIoZmFsc2UpfSBjc3M9e3sgcGFkZGluZ1RvcDogNiB9fT5cbiAgICAgICAge3JlbmRlcldlbGwoKX1cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7Y29scz8ubWFwKGNvbCA9PiAoPENvbHVtbkVsZW1lbnQgY29sdW1uPXtjb2x9IGtleT17Y29sLm5hbWV9Lz4pKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj4pO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gKDxDb2xsYXBzZS5QYW5lbCB7Li4ucHJvcHN9IGtleT17dGFibGUuaWR9IGhlYWRlcj17cmVuZGVySGVhZGVyKCl9IGNsYXNzTmFtZT1cIlRhYmxlRWxlbWVudFwiIGZvcmNlUmVuZGVyPlxuICAgICAge3JlbmRlckJvZHkoKX1cbiAgICA8L0NvbGxhcHNlLlBhbmVsPik7XG59O1xuZXhwb3J0IGRlZmF1bHQgVGFibGVFbGVtZW50O1xuIl19 */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\nconst TableElement = ({ table, actions, ...props }) => {\n  const [sortColumns, setSortColumns] = useState(false);\n  const [hovered, setHovered] = useState(false);\n  const setHover = (hovered) => {\n    _debounce(() => setHovered(hovered), 100)();\n  };\n  const removeTable = () => {\n    actions.removeDataPreview(table);\n    actions.removeTable(table);\n  };\n  const toggleSortColumns = () => {\n    setSortColumns((prevState) => !prevState);\n  };\n  const renderWell = () => {\n    let partitions;\n    let metadata;\n    if (table.partitions) {var _context, _table$partitions;\n      let partitionQuery;\n      let partitionClipBoard;\n      if (table.partitions.partitionQuery) {\n        ({ partitionQuery } = table.partitions);\n        const tt = t('Copy partition query to clipboard');\n        partitionClipBoard = ___EmotionJSX(CopyToClipboard, { text: partitionQuery, shouldShowText: false, tooltipText: tt, copyNode: ___EmotionJSX(\"i\", { className: \"fa fa-clipboard\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 65, columnNumber: 128 } }), __self: this, __source: { fileName: _jsxFileName, lineNumber: 65, columnNumber: 39 } });\n      }\n      const latest = _mapInstanceProperty(_context = _Object$entries(((_table$partitions = table.partitions) == null ? void 0 : _table$partitions.latest) || [])).call(_context,\n      ([key, value]) => `${key}=${value}`).\n      join('/');\n      partitions = ___EmotionJSX(\"div\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 70, columnNumber: 27 } },\n      ___EmotionJSX(\"small\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 71, columnNumber: 11 } },\n      t('latest partition:'), \" \", latest),\n      ' ',\n      partitionClipBoard);\n\n    }\n    if (table.metadata) {var _context2;\n      metadata = _mapInstanceProperty(_context2 = _Object$entries(table.metadata)).call(_context2, ([key, value]) => ___EmotionJSX(\"div\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 78, columnNumber: 78 } },\n      ___EmotionJSX(\"small\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 79, columnNumber: 11 } },\n      ___EmotionJSX(\"strong\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 80, columnNumber: 13 } }, key, \":\"), \" \", value)));\n\n\n    }\n    if (!partitions && !metadata) {\n      return null;\n    }\n    return ___EmotionJSX(Card, { size: \"small\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 87, columnNumber: 17 } },\n    partitions,\n    metadata);\n\n  };\n  const renderControls = () => {var _table$indexes;\n    let keyLink;\n    if (table != null && (_table$indexes = table.indexes) != null && _table$indexes.length) {var _context3;\n      keyLink = ___EmotionJSX(ModalTrigger, { modalTitle: ___EmotionJSX(\"div\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 95, columnNumber: 50 } },\n        t('Keys for table'), \" \", ___EmotionJSX(\"strong\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 96, columnNumber: 37 } }, table.name)),\n        modalBody: _mapInstanceProperty(_context3 = table.indexes).call(_context3, (ix, i) => ___EmotionJSX(\"pre\", { key: i, __self: this, __source: { fileName: _jsxFileName, lineNumber: 97, columnNumber: 62 } }, _JSON$stringify(ix, null, '  '))), triggerNode: ___EmotionJSX(IconTooltip, { className: \"fa fa-key pull-left m-l-2\", tooltip: t('View keys & indexes (%s)', table.indexes.length), __self: this, __source: { fileName: _jsxFileName, lineNumber: 97, columnNumber: 130 } }), __self: this, __source: { fileName: _jsxFileName, lineNumber: 95, columnNumber: 24 } });\n    }\n    return ___EmotionJSX(ButtonGroup, { className: \"ws-el-controls\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 99, columnNumber: 17 } },\n    keyLink,\n    ___EmotionJSX(IconTooltip, { className: `fa fa-sort-${sortColumns ? 'numeric' : 'alpha'}-asc ` +\n      'pull-left sort-cols m-l-2 pointer', onClick: toggleSortColumns, tooltip: sortColumns ?\n      t('Original table column order') :\n      t('Sort columns alphabetically'), __self: this, __source: { fileName: _jsxFileName, lineNumber: 101, columnNumber: 9 } }),\n    table.selectStar && ___EmotionJSX(CopyToClipboard, { copyNode: ___EmotionJSX(IconTooltip, { \"aria-label\": \"Copy\", tooltip: t('Copy SELECT statement to the clipboard'), __self: this, __source: { fileName: _jsxFileName, lineNumber: 105, columnNumber: 58 } },\n      ___EmotionJSX(\"i\", { \"aria-hidden\": true, className: \"fa fa-clipboard pull-left m-l-2\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 106, columnNumber: 17 } })),\n      text: table.selectStar, shouldShowText: false, __self: this, __source: { fileName: _jsxFileName, lineNumber: 105, columnNumber: 31 } }),\n    table.view && ___EmotionJSX(ShowSQL, { sql: table.view, tooltipText: t('Show CREATE VIEW statement'), title: t('CREATE VIEW statement'), __self: this, __source: { fileName: _jsxFileName, lineNumber: 108, columnNumber: 25 } }),\n    ___EmotionJSX(IconTooltip, { className: \"fa fa-times table-remove pull-left m-l-2 pointer\", onClick: removeTable, tooltip: t('Remove table preview'), __self: this, __source: { fileName: _jsxFileName, lineNumber: 109, columnNumber: 9 } }));\n\n  };\n  const renderHeader = () => ___EmotionJSX(\"div\", { className: \"clearfix header-container\", onMouseEnter: () => setHover(true), onMouseLeave: () => setHover(false), __self: this, __source: { fileName: _jsxFileName, lineNumber: 112, columnNumber: 33 } },\n  ___EmotionJSX(Tooltip, { id: \"copy-to-clipboard-tooltip\", placement: \"topLeft\", style: { cursor: 'pointer' }, title: table.name, trigger: ['hover'], __self: this, __source: { fileName: _jsxFileName, lineNumber: 113, columnNumber: 7 } },\n  ___EmotionJSX(StyledSpan, { \"data-test\": \"collapse\", className: \"table-name\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 114, columnNumber: 9 } },\n  ___EmotionJSX(\"strong\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 115, columnNumber: 11 } }, table.name))),\n\n\n\n  ___EmotionJSX(\"div\", { className: \"pull-right header-right-side\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 119, columnNumber: 7 } },\n  table.isMetadataLoading || table.isExtraMetadataLoading ? ___EmotionJSX(Loading, { position: \"inline\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 120, columnNumber: 69 } }) : ___EmotionJSX(Fade, { \"data-test\": \"fade\", hovered: hovered, onClick: (e) => e.stopPropagation(), __self: this, __source: { fileName: _jsxFileName, lineNumber: 120, columnNumber: 102 } },\n  renderControls())));\n\n\n\n  const renderBody = () => {var _cols;\n    let cols;\n    if (table.columns) {var _context4;\n      cols = _sliceInstanceProperty(_context4 = table.columns).call(_context4);\n      if (sortColumns) {\n        _sortInstanceProperty(cols).call(cols, (a, b) => {\n          const colA = a.name.toUpperCase();\n          const colB = b.name.toUpperCase();\n          return colA < colB ? -1 : colA > colB ? 1 : 0;\n        });\n      }\n    }\n    const metadata = ___EmotionJSX(\"div\", { onMouseEnter: () => setHover(true), onMouseLeave: () => setHover(false), css: _ref, __self: this, __source: { fileName: _jsxFileName, lineNumber: 137, columnNumber: 27 } },\n    renderWell(),\n    ___EmotionJSX(\"div\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 139, columnNumber: 9 } }, (_cols =\n    cols) == null ? void 0 : _mapInstanceProperty(_cols).call(_cols, (col) => ___EmotionJSX(ColumnElement, { column: col, key: col.name, __self: this, __source: { fileName: _jsxFileName, lineNumber: 140, columnNumber: 30 } }))));\n\n\n    return metadata;\n  };\n  return ___EmotionJSX(Collapse.Panel, _extends({}, props, { key: table.id, header: renderHeader(), className: \"TableElement\", forceRender: true, __self: this, __source: { fileName: _jsxFileName, lineNumber: 145, columnNumber: 13 } }),\n  renderBody());\n\n};__signature__(TableElement, \"useState{[sortColumns, setSortColumns](false)}\\nuseState{[hovered, setHovered](false)}\");const _default =\nTableElement;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledSpan, \"StyledSpan\", \"/Users/frankhe/projects/superset/superset-frontend/src/SqlLab/components/TableElement.tsx\");reactHotLoader.register(Fade, \"Fade\", \"/Users/frankhe/projects/superset/superset-frontend/src/SqlLab/components/TableElement.tsx\");reactHotLoader.register(TableElement, \"TableElement\", \"/Users/frankhe/projects/superset/superset-frontend/src/SqlLab/components/TableElement.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/frankhe/projects/superset/superset-frontend/src/SqlLab/components/TableElement.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/Users/frankhe/projects/superset/superset-frontend/src/SqlLab/components/TableElement.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport Collapse from 'src/components/Collapse';\nimport Card from 'src/components/Card';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { t, styled } from '@superset-ui/core';\nimport { debounce } from 'lodash';\n\nimport { Tooltip } from 'src/components/Tooltip';\nimport CopyToClipboard from '../../components/CopyToClipboard';\nimport { IconTooltip } from '../../components/IconTooltip';\nimport ColumnElement, { ColumnKeyTypeType } from './ColumnElement';\nimport ShowSQL from './ShowSQL';\nimport ModalTrigger from '../../components/ModalTrigger';\nimport Loading from '../../components/Loading';\n\ninterface Column {\n  name: string;\n  keys?: { type: ColumnKeyTypeType }[];\n  type: string;\n}\n\ninterface Table {\n  id: string;\n  name: string;\n  partitions?: {\n    partitionQuery: string;\n    latest: object[];\n  };\n  metadata?: Record<string, string>;\n  indexes?: object[];\n  selectStar?: string;\n  view?: string;\n  isMetadataLoading: boolean;\n  isExtraMetadataLoading: boolean;\n  columns: Column[];\n}\n\ninterface TableElementProps {\n  table: Table;\n  actions: {\n    removeDataPreview: (table: Table) => void;\n    removeTable: (table: Table) => void;\n  };\n}\n\nconst StyledSpan = styled.span`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  &: hover {\n    color: ${({ theme }) => theme.colors.primary.dark2};\n  }\n  cursor: pointer;\n`;\n\nconst Fade = styled.div`\n  transition: all ${({ theme }) => theme.transitionTiming}s;\n  opacity: ${(props: { hovered: boolean }) => (props.hovered ? 1 : 0)};\n`;\n\nconst TableElement = ({ table, actions, ...props }: TableElementProps) => {\n  const [sortColumns, setSortColumns] = useState(false);\n  const [hovered, setHovered] = useState(false);\n\n  const setHover = (hovered: boolean) => {\n    debounce(() => setHovered(hovered), 100)();\n  };\n\n  const removeTable = () => {\n    actions.removeDataPreview(table);\n    actions.removeTable(table);\n  };\n\n  const toggleSortColumns = () => {\n    setSortColumns(prevState => !prevState);\n  };\n\n  const renderWell = () => {\n    let partitions;\n    let metadata;\n    if (table.partitions) {\n      let partitionQuery;\n      let partitionClipBoard;\n      if (table.partitions.partitionQuery) {\n        ({ partitionQuery } = table.partitions);\n        const tt = t('Copy partition query to clipboard');\n        partitionClipBoard = (\n          <CopyToClipboard\n            text={partitionQuery}\n            shouldShowText={false}\n            tooltipText={tt}\n            copyNode={<i className=\"fa fa-clipboard\" />}\n          />\n        );\n      }\n      const latest = Object.entries(table.partitions?.latest || [])\n        .map(([key, value]) => `${key}=${value}`)\n        .join('/');\n\n      partitions = (\n        <div>\n          <small>\n            {t('latest partition:')} {latest}\n          </small>{' '}\n          {partitionClipBoard}\n        </div>\n      );\n    }\n\n    if (table.metadata) {\n      metadata = Object.entries(table.metadata).map(([key, value]) => (\n        <div>\n          <small>\n            <strong>{key}:</strong> {value}\n          </small>\n        </div>\n      ));\n    }\n\n    if (!partitions && !metadata) {\n      return null;\n    }\n\n    return (\n      <Card size=\"small\">\n        {partitions}\n        {metadata}\n      </Card>\n    );\n  };\n\n  const renderControls = () => {\n    let keyLink;\n    if (table?.indexes?.length) {\n      keyLink = (\n        <ModalTrigger\n          modalTitle={\n            <div>\n              {t('Keys for table')} <strong>{table.name}</strong>\n            </div>\n          }\n          modalBody={table.indexes.map((ix, i) => (\n            <pre key={i}>{JSON.stringify(ix, null, '  ')}</pre>\n          ))}\n          triggerNode={\n            <IconTooltip\n              className=\"fa fa-key pull-left m-l-2\"\n              tooltip={t('View keys & indexes (%s)', table.indexes.length)}\n            />\n          }\n        />\n      );\n    }\n    return (\n      <ButtonGroup className=\"ws-el-controls\">\n        {keyLink}\n        <IconTooltip\n          className={\n            `fa fa-sort-${sortColumns ? 'numeric' : 'alpha'}-asc ` +\n            'pull-left sort-cols m-l-2 pointer'\n          }\n          onClick={toggleSortColumns}\n          tooltip={\n            sortColumns\n              ? t('Original table column order')\n              : t('Sort columns alphabetically')\n          }\n        />\n        {table.selectStar && (\n          <CopyToClipboard\n            copyNode={\n              <IconTooltip\n                aria-label=\"Copy\"\n                tooltip={t('Copy SELECT statement to the clipboard')}\n              >\n                <i aria-hidden className=\"fa fa-clipboard pull-left m-l-2\" />\n              </IconTooltip>\n            }\n            text={table.selectStar}\n            shouldShowText={false}\n          />\n        )}\n        {table.view && (\n          <ShowSQL\n            sql={table.view}\n            tooltipText={t('Show CREATE VIEW statement')}\n            title={t('CREATE VIEW statement')}\n          />\n        )}\n        <IconTooltip\n          className=\"fa fa-times table-remove pull-left m-l-2 pointer\"\n          onClick={removeTable}\n          tooltip={t('Remove table preview')}\n        />\n      </ButtonGroup>\n    );\n  };\n\n  const renderHeader = () => (\n    <div\n      className=\"clearfix header-container\"\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n    >\n      <Tooltip\n        id=\"copy-to-clipboard-tooltip\"\n        placement=\"topLeft\"\n        style={{ cursor: 'pointer' }}\n        title={table.name}\n        trigger={['hover']}\n      >\n        <StyledSpan data-test=\"collapse\" className=\"table-name\">\n          <strong>{table.name}</strong>\n        </StyledSpan>\n      </Tooltip>\n\n      <div className=\"pull-right header-right-side\">\n        {table.isMetadataLoading || table.isExtraMetadataLoading ? (\n          <Loading position=\"inline\" />\n        ) : (\n          <Fade\n            data-test=\"fade\"\n            hovered={hovered}\n            onClick={e => e.stopPropagation()}\n          >\n            {renderControls()}\n          </Fade>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderBody = () => {\n    let cols;\n    if (table.columns) {\n      cols = table.columns.slice();\n      if (sortColumns) {\n        cols.sort((a: Column, b: Column) => {\n          const colA = a.name.toUpperCase();\n          const colB = b.name.toUpperCase();\n          return colA < colB ? -1 : colA > colB ? 1 : 0;\n        });\n      }\n    }\n\n    const metadata = (\n      <div\n        onMouseEnter={() => setHover(true)}\n        onMouseLeave={() => setHover(false)}\n        css={{ paddingTop: 6 }}\n      >\n        {renderWell()}\n        <div>\n          {cols?.map(col => (\n            <ColumnElement column={col} key={col.name} />\n          ))}\n        </div>\n      </div>\n    );\n    return metadata;\n  };\n\n  return (\n    <Collapse.Panel\n      {...props}\n      key={table.id}\n      header={renderHeader()}\n      className=\"TableElement\"\n      forceRender\n    >\n      {renderBody()}\n    </Collapse.Panel>\n  );\n};\n\nexport default TableElement;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}