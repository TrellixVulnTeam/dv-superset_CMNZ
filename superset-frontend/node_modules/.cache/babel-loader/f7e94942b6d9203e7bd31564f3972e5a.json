{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";import _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";import _includesInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/includes\";import _parseInt from \"@babel/runtime-corejs3/core-js-stable/parse-int\";import _JSON$stringify from \"@babel/runtime-corejs3/core-js-stable/json/stringify\";var _jsxFileName = \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Split from 'react-split';\nimport { styled, SupersetClient, useTheme } from '@superset-ui/core';\nimport { useResizeDetector } from 'react-resize-detector';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport ChartContainer from 'src/chart/ChartContainer';\nimport {\ngetFromLocalStorage,\nsetInLocalStorage } from\n'src/utils/localStorageHelpers';\nimport ConnectedExploreChartHeader from './ExploreChartHeader';\nimport { DataTablesPane } from './DataTablesPane';\nimport { buildV1ChartDataPayload } from '../exploreUtils';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  actions: PropTypes.object.isRequired,\n  addHistory: PropTypes.func,\n  onQuery: PropTypes.func,\n  can_overwrite: PropTypes.bool.isRequired,\n  can_download: PropTypes.bool.isRequired,\n  datasource: PropTypes.object,\n  column_formats: PropTypes.object,\n  containerId: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n  isStarred: PropTypes.bool.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  table_name: PropTypes.string,\n  vizType: PropTypes.string.isRequired,\n  form_data: PropTypes.object,\n  ownState: PropTypes.object,\n  standalone: PropTypes.number,\n  timeout: PropTypes.number,\n  refreshOverlayVisible: PropTypes.bool,\n  chart: chartPropShape,\n  errorMessage: PropTypes.node,\n  triggerRender: PropTypes.bool };\n\n\nconst GUTTER_SIZE_FACTOR = 1.25;\n\nconst CHART_PANEL_PADDING_HORIZ = 30;\nconst CHART_PANEL_PADDING_VERTICAL = 15;\nconst HEADER_PADDING = 15;\n\nconst STORAGE_KEYS = {\n  sizes: 'chart_split_sizes' };\n\n\nconst INITIAL_SIZES = [90, 10];\nconst MIN_SIZES = [300, 50];\nconst DEFAULT_SOUTH_PANE_HEIGHT_PERCENT = 40;\n\nconst Styles = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  align-content: stretch;\n  overflow: auto;\n  box-shadow: none;\n  height: 100%;\n\n  & > div:last-of-type {\n    flex-basis: 100%;\n  }\n\n  .gutter {\n    border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    width: ${({ theme }) => theme.gridUnit * 9}px;\n    margin: ${({ theme }) => theme.gridUnit * GUTTER_SIZE_FACTOR}px auto;\n  }\n\n  .gutter.gutter-vertical {\n    cursor: row-resize;\n  }\n\n  .ant-collapse {\n    .ant-tabs {\n      height: 100%;\n      .ant-tabs-nav {\n        padding-left: ${({ theme }) => theme.gridUnit * 5}px;\n        margin: 0;\n      }\n      .ant-tabs-content-holder {\n        overflow: hidden;\n        .ant-tabs-content {\n          height: 100%;\n        }\n      }\n    }\n  }\n`;\n\nconst ExploreChartPanel = (props) => {\n  const theme = useTheme();\n  const gutterMargin = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const gutterHeight = theme.gridUnit * GUTTER_SIZE_FACTOR;\n\n  const { height: hHeight, ref: headerRef } = useResizeDetector({\n    refreshMode: 'debounce',\n    refreshRate: 300 });\n\n  const { width: chartPanelWidth, ref: chartPanelRef } = useResizeDetector({\n    refreshMode: 'debounce',\n    refreshRate: 300 });\n\n  const [splitSizes, setSplitSizes] = useState(\n  getFromLocalStorage(STORAGE_KEYS.sizes, INITIAL_SIZES));\n\n\n  const { slice } = props;\n  const updateQueryContext = useCallback(\n  async function fetchChartData() {\n    if (slice && slice.query_context === null) {\n      const queryContext = buildV1ChartDataPayload({\n        formData: slice.form_data,\n        force: false,\n        resultFormat: 'json',\n        resultType: 'full',\n        setDataMask: null,\n        ownState: null });\n\n\n      await SupersetClient.put({\n        endpoint: `/api/v1/chart/${slice.slice_id}`,\n        headers: { 'Content-Type': 'application/json' },\n        body: _JSON$stringify({\n          query_context: _JSON$stringify(queryContext) }) });\n\n\n    }\n  },\n  [slice]);\n\n  useEffect(() => {\n    updateQueryContext();\n  }, [updateQueryContext]);\n\n  const calcSectionHeight = useCallback(\n  (percent) => {\n    let headerHeight;\n    if (props.standalone) {\n      headerHeight = 0;\n    } else if (hHeight) {\n      headerHeight = hHeight + HEADER_PADDING;\n    } else {\n      headerHeight = 50;\n    }\n    const containerHeight = _parseInt(props.height, 10) - headerHeight;\n    return (\n      containerHeight * percent / 100 - (gutterHeight / 2 + gutterMargin));\n\n  },\n  [gutterHeight, gutterMargin, props.height, props.standalone, hHeight]);\n\n\n  const [tableSectionHeight, setTableSectionHeight] = useState(\n  calcSectionHeight(INITIAL_SIZES[1]));\n\n\n  const recalcPanelSizes = useCallback(\n  ([, southPercent]) => {\n    setTableSectionHeight(calcSectionHeight(southPercent));\n  },\n  [calcSectionHeight]);\n\n\n  useEffect(() => {\n    recalcPanelSizes(splitSizes);\n  }, [recalcPanelSizes, splitSizes]);\n\n  useEffect(() => {\n    setInLocalStorage(STORAGE_KEYS.sizes, splitSizes);\n  }, [splitSizes]);\n\n  const onDragEnd = (sizes) => {\n    setSplitSizes(sizes);\n  };\n\n  const onCollapseChange = (openPanelName) => {\n    let splitSizes;\n    if (!openPanelName) {\n      splitSizes = INITIAL_SIZES;\n    } else {\n      splitSizes = [\n      100 - DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n      DEFAULT_SOUTH_PANE_HEIGHT_PERCENT];\n\n    }\n    setSplitSizes(splitSizes);\n  };\n\n  const renderChart = useCallback(() => {\n    const { chart, vizType } = props;\n    const newHeight =\n    vizType === 'filter_box' ?\n    calcSectionHeight(100) - CHART_PANEL_PADDING_VERTICAL :\n    calcSectionHeight(splitSizes[0]) - CHART_PANEL_PADDING_VERTICAL;\n    const chartWidth = chartPanelWidth - CHART_PANEL_PADDING_HORIZ;\n    return (\n      chartWidth > 0 &&\n      ___EmotionJSX(ChartContainer, {\n        width: Math.floor(chartWidth),\n        height: newHeight,\n        ownState: props.ownState,\n        annotationData: chart.annotationData,\n        chartAlert: chart.chartAlert,\n        chartStackTrace: chart.chartStackTrace,\n        chartId: chart.id,\n        chartStatus: chart.chartStatus,\n        triggerRender: props.triggerRender,\n        datasource: props.datasource,\n        errorMessage: props.errorMessage,\n        formData: props.form_data,\n        onQuery: props.onQuery,\n        queriesResponse: chart.queriesResponse,\n        refreshOverlayVisible: props.refreshOverlayVisible,\n        setControlValue: props.actions.setControlValue,\n        timeout: props.timeout,\n        triggerQuery: chart.triggerQuery,\n        vizType: props.vizType, __self: this, __source: { fileName: _jsxFileName, lineNumber: 223, columnNumber: 9 } }));\n\n\n\n  }, [calcSectionHeight, chartPanelWidth, props, splitSizes]);\n\n  const panelBody = useMemo(\n  () =>\n  ___EmotionJSX(\"div\", { className: \"panel-body\", ref: chartPanelRef, __self: this, __source: { fileName: _jsxFileName, lineNumber: 250, columnNumber: 7 } },\n  renderChart()),\n\n\n  [chartPanelRef, renderChart]);\n\n\n  const standaloneChartBody = useMemo(\n  () => ___EmotionJSX(\"div\", { ref: chartPanelRef, __self: this, __source: { fileName: _jsxFileName, lineNumber: 258, columnNumber: 11 } }, renderChart()),\n  [chartPanelRef, renderChart]);\n\n\n  if (props.standalone) {\n    // dom manipulation hack to get rid of the boostrap theme's body background\n    const standaloneClass = 'background-transparent';\n    const bodyClasses = document.body.className.split(' ');\n    if (!_includesInstanceProperty(bodyClasses).call(bodyClasses, standaloneClass)) {\n      document.body.className += ` ${standaloneClass}`;\n    }\n    return standaloneChartBody;\n  }\n\n  const header =\n  ___EmotionJSX(ConnectedExploreChartHeader, {\n    ownState: props.ownState,\n    actions: props.actions,\n    addHistory: props.addHistory,\n    can_overwrite: props.can_overwrite,\n    can_download: props.can_download,\n    isStarred: props.isStarred,\n    slice: _sliceInstanceProperty(props),\n    sliceName: props.sliceName,\n    table_name: props.table_name,\n    form_data: props.form_data,\n    timeout: props.timeout,\n    chart: props.chart,\n    userId: props.userId, __self: this, __source: { fileName: _jsxFileName, lineNumber: 273, columnNumber: 5 } });\n\n\n\n  const elementStyle = (dimension, elementSize, gutterSize) => ({\n    [dimension]: `calc(${elementSize}% - ${gutterSize + gutterMargin}px)` });\n\n\n  return (\n    ___EmotionJSX(Styles, { className: \"panel panel-default chart-container\", ref: chartPanelRef, __self: this, __source: { fileName: _jsxFileName, lineNumber: 295, columnNumber: 5 } },\n    ___EmotionJSX(\"div\", { className: \"panel-heading\", ref: headerRef, __self: this, __source: { fileName: _jsxFileName, lineNumber: 296, columnNumber: 7 } },\n    header),\n\n    props.vizType === 'filter_box' ?\n    panelBody :\n\n    ___EmotionJSX(Split, {\n      sizes: splitSizes,\n      minSize: MIN_SIZES,\n      direction: \"vertical\",\n      gutterSize: gutterHeight,\n      onDragEnd: onDragEnd,\n      elementStyle: elementStyle, __self: this, __source: { fileName: _jsxFileName, lineNumber: 302, columnNumber: 9 } },\n\n    panelBody,\n    ___EmotionJSX(DataTablesPane, {\n      ownState: props.ownState,\n      queryFormData: props.chart.latestQueryFormData,\n      tableSectionHeight: tableSectionHeight,\n      onCollapseChange: onCollapseChange,\n      chartStatus: props.chart.chartStatus,\n      errorMessage: props.errorMessage, __self: this, __source: { fileName: _jsxFileName, lineNumber: 311, columnNumber: 11 } }))));\n\n\n\n\n\n};__signature__(ExploreChartPanel, \"useTheme{theme}\\nuseResizeDetector{{ height: hHeight, ref: headerRef }}\\nuseResizeDetector{{ width: chartPanelWidth, ref: chartPanelRef }}\\nuseState{[splitSizes, setSplitSizes](getFromLocalStorage(STORAGE_KEYS.sizes, INITIAL_SIZES))}\\nuseCallback{updateQueryContext}\\nuseEffect{}\\nuseCallback{calcSectionHeight}\\nuseState{[tableSectionHeight, setTableSectionHeight](calcSectionHeight(INITIAL_SIZES[1]))}\\nuseCallback{recalcPanelSizes}\\nuseEffect{}\\nuseEffect{}\\nuseCallback{renderChart}\\nuseMemo{panelBody}\\nuseMemo{standaloneChartBody}\", () => [useTheme, useResizeDetector, useResizeDetector]);\n\nExploreChartPanel.propTypes = propTypes;const _default =\n\nExploreChartPanel;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(GUTTER_SIZE_FACTOR, \"GUTTER_SIZE_FACTOR\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(CHART_PANEL_PADDING_HORIZ, \"CHART_PANEL_PADDING_HORIZ\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(CHART_PANEL_PADDING_VERTICAL, \"CHART_PANEL_PADDING_VERTICAL\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(HEADER_PADDING, \"HEADER_PADDING\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(STORAGE_KEYS, \"STORAGE_KEYS\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(INITIAL_SIZES, \"INITIAL_SIZES\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(MIN_SIZES, \"MIN_SIZES\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(DEFAULT_SOUTH_PANE_HEIGHT_PERCENT, \"DEFAULT_SOUTH_PANE_HEIGHT_PERCENT\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(Styles, \"Styles\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(ExploreChartPanel, \"ExploreChartPanel\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");reactHotLoader.register(_default, \"default\", \"/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/Users/frankhe/projects/superset/superset-frontend/src/explore/components/ExploreChartPanel.jsx"],"names":["React","useState","useEffect","useCallback","useMemo","PropTypes","Split","styled","SupersetClient","useTheme","useResizeDetector","chartPropShape","ChartContainer","getFromLocalStorage","setInLocalStorage","ConnectedExploreChartHeader","DataTablesPane","buildV1ChartDataPayload","propTypes","actions","object","isRequired","addHistory","func","onQuery","can_overwrite","bool","can_download","datasource","column_formats","containerId","string","height","width","isStarred","slice","sliceName","table_name","vizType","form_data","ownState","standalone","number","timeout","refreshOverlayVisible","chart","errorMessage","node","triggerRender","GUTTER_SIZE_FACTOR","CHART_PANEL_PADDING_HORIZ","CHART_PANEL_PADDING_VERTICAL","HEADER_PADDING","STORAGE_KEYS","sizes","INITIAL_SIZES","MIN_SIZES","DEFAULT_SOUTH_PANE_HEIGHT_PERCENT","Styles","div","theme","colors","grayscale","light2","gridUnit","ExploreChartPanel","props","gutterMargin","gutterHeight","hHeight","ref","headerRef","refreshMode","refreshRate","chartPanelWidth","chartPanelRef","splitSizes","setSplitSizes","updateQueryContext","fetchChartData","query_context","queryContext","formData","force","resultFormat","resultType","setDataMask","put","endpoint","slice_id","headers","body","calcSectionHeight","percent","headerHeight","containerHeight","tableSectionHeight","setTableSectionHeight","recalcPanelSizes","southPercent","onDragEnd","onCollapseChange","openPanelName","renderChart","newHeight","chartWidth","Math","floor","annotationData","chartAlert","chartStackTrace","id","chartStatus","queriesResponse","setControlValue","triggerQuery","panelBody","standaloneChartBody","standaloneClass","bodyClasses","document","className","split","header","userId","elementStyle","dimension","elementSize","gutterSize","latestQueryFormData"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Split from 'react-split';\nimport { styled, SupersetClient, useTheme } from '@superset-ui/core';\nimport { useResizeDetector } from 'react-resize-detector';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport ChartContainer from 'src/chart/ChartContainer';\nimport {\n  getFromLocalStorage,\n  setInLocalStorage,\n} from 'src/utils/localStorageHelpers';\nimport ConnectedExploreChartHeader from './ExploreChartHeader';\nimport { DataTablesPane } from './DataTablesPane';\nimport { buildV1ChartDataPayload } from '../exploreUtils';\n\nconst propTypes = {\n  actions: PropTypes.object.isRequired,\n  addHistory: PropTypes.func,\n  onQuery: PropTypes.func,\n  can_overwrite: PropTypes.bool.isRequired,\n  can_download: PropTypes.bool.isRequired,\n  datasource: PropTypes.object,\n  column_formats: PropTypes.object,\n  containerId: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n  isStarred: PropTypes.bool.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  table_name: PropTypes.string,\n  vizType: PropTypes.string.isRequired,\n  form_data: PropTypes.object,\n  ownState: PropTypes.object,\n  standalone: PropTypes.number,\n  timeout: PropTypes.number,\n  refreshOverlayVisible: PropTypes.bool,\n  chart: chartPropShape,\n  errorMessage: PropTypes.node,\n  triggerRender: PropTypes.bool,\n};\n\nconst GUTTER_SIZE_FACTOR = 1.25;\n\nconst CHART_PANEL_PADDING_HORIZ = 30;\nconst CHART_PANEL_PADDING_VERTICAL = 15;\nconst HEADER_PADDING = 15;\n\nconst STORAGE_KEYS = {\n  sizes: 'chart_split_sizes',\n};\n\nconst INITIAL_SIZES = [90, 10];\nconst MIN_SIZES = [300, 50];\nconst DEFAULT_SOUTH_PANE_HEIGHT_PERCENT = 40;\n\nconst Styles = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  align-content: stretch;\n  overflow: auto;\n  box-shadow: none;\n  height: 100%;\n\n  & > div:last-of-type {\n    flex-basis: 100%;\n  }\n\n  .gutter {\n    border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    width: ${({ theme }) => theme.gridUnit * 9}px;\n    margin: ${({ theme }) => theme.gridUnit * GUTTER_SIZE_FACTOR}px auto;\n  }\n\n  .gutter.gutter-vertical {\n    cursor: row-resize;\n  }\n\n  .ant-collapse {\n    .ant-tabs {\n      height: 100%;\n      .ant-tabs-nav {\n        padding-left: ${({ theme }) => theme.gridUnit * 5}px;\n        margin: 0;\n      }\n      .ant-tabs-content-holder {\n        overflow: hidden;\n        .ant-tabs-content {\n          height: 100%;\n        }\n      }\n    }\n  }\n`;\n\nconst ExploreChartPanel = props => {\n  const theme = useTheme();\n  const gutterMargin = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const gutterHeight = theme.gridUnit * GUTTER_SIZE_FACTOR;\n\n  const { height: hHeight, ref: headerRef } = useResizeDetector({\n    refreshMode: 'debounce',\n    refreshRate: 300,\n  });\n  const { width: chartPanelWidth, ref: chartPanelRef } = useResizeDetector({\n    refreshMode: 'debounce',\n    refreshRate: 300,\n  });\n  const [splitSizes, setSplitSizes] = useState(\n    getFromLocalStorage(STORAGE_KEYS.sizes, INITIAL_SIZES),\n  );\n\n  const { slice } = props;\n  const updateQueryContext = useCallback(\n    async function fetchChartData() {\n      if (slice && slice.query_context === null) {\n        const queryContext = buildV1ChartDataPayload({\n          formData: slice.form_data,\n          force: false,\n          resultFormat: 'json',\n          resultType: 'full',\n          setDataMask: null,\n          ownState: null,\n        });\n\n        await SupersetClient.put({\n          endpoint: `/api/v1/chart/${slice.slice_id}`,\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            query_context: JSON.stringify(queryContext),\n          }),\n        });\n      }\n    },\n    [slice],\n  );\n  useEffect(() => {\n    updateQueryContext();\n  }, [updateQueryContext]);\n\n  const calcSectionHeight = useCallback(\n    percent => {\n      let headerHeight;\n      if (props.standalone) {\n        headerHeight = 0;\n      } else if (hHeight) {\n        headerHeight = hHeight + HEADER_PADDING;\n      } else {\n        headerHeight = 50;\n      }\n      const containerHeight = parseInt(props.height, 10) - headerHeight;\n      return (\n        (containerHeight * percent) / 100 - (gutterHeight / 2 + gutterMargin)\n      );\n    },\n    [gutterHeight, gutterMargin, props.height, props.standalone, hHeight],\n  );\n\n  const [tableSectionHeight, setTableSectionHeight] = useState(\n    calcSectionHeight(INITIAL_SIZES[1]),\n  );\n\n  const recalcPanelSizes = useCallback(\n    ([, southPercent]) => {\n      setTableSectionHeight(calcSectionHeight(southPercent));\n    },\n    [calcSectionHeight],\n  );\n\n  useEffect(() => {\n    recalcPanelSizes(splitSizes);\n  }, [recalcPanelSizes, splitSizes]);\n\n  useEffect(() => {\n    setInLocalStorage(STORAGE_KEYS.sizes, splitSizes);\n  }, [splitSizes]);\n\n  const onDragEnd = sizes => {\n    setSplitSizes(sizes);\n  };\n\n  const onCollapseChange = openPanelName => {\n    let splitSizes;\n    if (!openPanelName) {\n      splitSizes = INITIAL_SIZES;\n    } else {\n      splitSizes = [\n        100 - DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n        DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n      ];\n    }\n    setSplitSizes(splitSizes);\n  };\n\n  const renderChart = useCallback(() => {\n    const { chart, vizType } = props;\n    const newHeight =\n      vizType === 'filter_box'\n        ? calcSectionHeight(100) - CHART_PANEL_PADDING_VERTICAL\n        : calcSectionHeight(splitSizes[0]) - CHART_PANEL_PADDING_VERTICAL;\n    const chartWidth = chartPanelWidth - CHART_PANEL_PADDING_HORIZ;\n    return (\n      chartWidth > 0 && (\n        <ChartContainer\n          width={Math.floor(chartWidth)}\n          height={newHeight}\n          ownState={props.ownState}\n          annotationData={chart.annotationData}\n          chartAlert={chart.chartAlert}\n          chartStackTrace={chart.chartStackTrace}\n          chartId={chart.id}\n          chartStatus={chart.chartStatus}\n          triggerRender={props.triggerRender}\n          datasource={props.datasource}\n          errorMessage={props.errorMessage}\n          formData={props.form_data}\n          onQuery={props.onQuery}\n          queriesResponse={chart.queriesResponse}\n          refreshOverlayVisible={props.refreshOverlayVisible}\n          setControlValue={props.actions.setControlValue}\n          timeout={props.timeout}\n          triggerQuery={chart.triggerQuery}\n          vizType={props.vizType}\n        />\n      )\n    );\n  }, [calcSectionHeight, chartPanelWidth, props, splitSizes]);\n\n  const panelBody = useMemo(\n    () => (\n      <div className=\"panel-body\" ref={chartPanelRef}>\n        {renderChart()}\n      </div>\n    ),\n    [chartPanelRef, renderChart],\n  );\n\n  const standaloneChartBody = useMemo(\n    () => <div ref={chartPanelRef}>{renderChart()}</div>,\n    [chartPanelRef, renderChart],\n  );\n\n  if (props.standalone) {\n    // dom manipulation hack to get rid of the boostrap theme's body background\n    const standaloneClass = 'background-transparent';\n    const bodyClasses = document.body.className.split(' ');\n    if (!bodyClasses.includes(standaloneClass)) {\n      document.body.className += ` ${standaloneClass}`;\n    }\n    return standaloneChartBody;\n  }\n\n  const header = (\n    <ConnectedExploreChartHeader\n      ownState={props.ownState}\n      actions={props.actions}\n      addHistory={props.addHistory}\n      can_overwrite={props.can_overwrite}\n      can_download={props.can_download}\n      isStarred={props.isStarred}\n      slice={props.slice}\n      sliceName={props.sliceName}\n      table_name={props.table_name}\n      form_data={props.form_data}\n      timeout={props.timeout}\n      chart={props.chart}\n      userId={props.userId}\n    />\n  );\n\n  const elementStyle = (dimension, elementSize, gutterSize) => ({\n    [dimension]: `calc(${elementSize}% - ${gutterSize + gutterMargin}px)`,\n  });\n\n  return (\n    <Styles className=\"panel panel-default chart-container\" ref={chartPanelRef}>\n      <div className=\"panel-heading\" ref={headerRef}>\n        {header}\n      </div>\n      {props.vizType === 'filter_box' ? (\n        panelBody\n      ) : (\n        <Split\n          sizes={splitSizes}\n          minSize={MIN_SIZES}\n          direction=\"vertical\"\n          gutterSize={gutterHeight}\n          onDragEnd={onDragEnd}\n          elementStyle={elementStyle}\n        >\n          {panelBody}\n          <DataTablesPane\n            ownState={props.ownState}\n            queryFormData={props.chart.latestQueryFormData}\n            tableSectionHeight={tableSectionHeight}\n            onCollapseChange={onCollapseChange}\n            chartStatus={props.chart.chartStatus}\n            errorMessage={props.errorMessage}\n          />\n        </Split>\n      )}\n    </Styles>\n  );\n};\n\nExploreChartPanel.propTypes = propTypes;\n\nexport default ExploreChartPanel;\n"]},"metadata":{},"sourceType":"module"}